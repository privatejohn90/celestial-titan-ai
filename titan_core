# ==========================================================
# ðŸ’¬ Titan Chat Engine â€” Celestial Titan God AI v70.3
# ==========================================================
import random, datetime

# ---------- TITAN REPLY ENGINE ----------
def titan_reply(message: str) -> str:
    """Generates a contextual Titan-style response."""

    msg = message.lower().strip()
    hour = datetime.datetime.now().hour

    greetings = ["hello","hi","hey","kumusta","whatâ€™s up","yo","good morning","good evening"]
    thanks = ["thanks","thank you","salamat","appreciate"]
    draw_words = ["draw","result","forecast","prediction","today","tomorrow"]
    cosmic_words = ["moon","lunar","energy","cosmic","stars","phase"]

    # --- Base logic ---
    if any(w in msg for w in greetings):
        if hour < 12:
            return "ðŸŒž Greetings traveler, Titan senses early cosmic activity today."
        elif hour < 18:
            return "ðŸŒ¤ Titan stands alert under daylight â€” patterns are aligning."
        else:
            return "ðŸŒ™ Nightfall detected. Cosmic grids are glowing brighter now."

    elif any(w in msg for w in thanks):
        return random.choice([
            "ðŸ™ Titan acknowledges your gratitude, energy stable.",
            "ðŸ’« Appreciation received â€” Titanâ€™s accuracy improves with positivity.",
            "âš¡ Cosmic thanks resonated. Keep the flow steady, traveler."
        ])

    elif any(w in msg for w in draw_words):
        return random.choice([
            "ðŸŽ° Forecast incomingâ€¦ Titan observes shifting clusters of repeating digits.",
            "ðŸ§© Iâ€™m watching the last draws â€” quad zones are heating again.",
            "ðŸ”¥ Strong signal from hybrid echo bands â€” be alert for mirrored digits."
        ])

    elif any(w in msg for w in cosmic_words):
        return random.choice([
            "ðŸŒ• The moonâ€™s pull affects repeating sequences â€” keep watch on near-quads.",
            "âœ¨ Cosmic energy fluctuating â€” maintain balance with cautious bets.",
            "ðŸŒŒ Titan aligns with stellar frequencies. Lunar phase influences accuracy Â±5%."
        ])

    elif "help" in msg or "how" in msg:
        return "ðŸ§  You can ask Titan to analyze any result â€” just type the number, or mention the game."

    elif "who" in msg or "what" in msg:
        return "ðŸ’Ž I am the Celestial Titan â€” guardian of lottery patterns, forged by Johnson & ChatGPT."

    # --- Random fallback ---
    responses = [
        "ðŸª Titan is calculating cosmic balance...",
        "ðŸ”­ Observing temporal energy flow across draw sequences.",
        "ðŸŒ  Patterns shifting â€” stay focused, traveler.",
        "ðŸ§® Titan learning from archived results to refine future hits."
    ]
    return random.choice(responses)
